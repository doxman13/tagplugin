var assets_img_mailicon = `data:image/svg+xml,%3Csvg height='800px' width='800px' version='1.1'  xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 512.001 512.001' xml:space='preserve'%3E%3Cpath style='fill:%23B3404A;' d='M497.805,456.819h-383.99c-20.591,0-37.342-16.753-37.342-37.343V167.498 c0-20.591,16.751-37.342,37.342-37.342h360.842c20.591,0,37.343,16.751,37.343,37.342v180.911c0,7.84-6.356,14.195-14.195,14.195 c-7.838,0-14.195-6.355-14.195-14.195V167.498c0-4.937-4.016-8.953-8.954-8.953H113.816c-4.937,0-8.953,4.017-8.953,8.953v251.979 c0,4.937,4.016,8.954,8.953,8.954h383.991c7.838,0,14.195,6.355,14.195,14.195S505.645,456.819,497.805,456.819z'/%3E%3Cpath style='fill:%23F4B2B0;' d='M497.805,167.498L497.805,167.498c0,7.39-3.527,14.335-9.495,18.693L294.237,327.936L100.163,186.191 c-5.967-4.358-9.495-11.303-9.495-18.693l0,0c0-12.784,10.364-23.147,23.147-23.147h360.842 C487.442,144.349,497.805,154.713,497.805,167.498z'/%3E%3Cpath style='fill:%23B3404A;' d='M294.237,342.13c-2.938,0-5.879-0.911-8.372-2.731L91.79,197.654 c-9.591-7.008-15.316-18.281-15.316-30.157c0-20.591,16.751-37.342,37.342-37.342h360.842c20.591,0,37.343,16.751,37.343,37.342 c0,11.877-5.726,23.15-15.317,30.157L302.61,339.399C300.116,341.219,297.175,342.13,294.237,342.13z M113.816,158.544 c-4.937,0-8.953,4.016-8.953,8.953c0,2.847,1.374,5.552,3.674,7.232l185.7,135.629l185.7-135.63c2.3-1.679,3.674-4.382,3.674-7.231 c0-4.937-4.016-8.953-8.954-8.953H113.816z'/%3E%3Cpath style='fill:%23F4B2B0;' d='M90.668,167.498c0-12.784,10.364-23.147,23.147-23.147h307.517V92.526 c0-12.784-10.363-23.149-23.147-23.149H37.343c-12.785,0-23.149,10.364-23.149,23.149v251.979c0,12.784,10.364,23.147,23.147,23.147 h53.325V167.498H90.668z'/%3E%3Cpath style='fill:%23B3404A;' d='M90.668,381.847H37.343C16.753,381.847,0,365.096,0,344.505V92.526 c0-20.591,16.753-37.343,37.343-37.343h360.842c20.591,0,37.342,16.753,37.342,37.343v51.825c0,7.84-6.356,14.195-14.195,14.195 H113.816c-4.937,0-8.953,4.017-8.953,8.953v200.156C104.863,375.492,98.507,381.847,90.668,381.847z M37.343,83.572 c-4.938,0-8.954,4.017-8.954,8.954v251.979c0,4.937,4.016,8.954,8.954,8.954h39.13V167.498c0-20.591,16.751-37.342,37.342-37.342 h293.323v-37.63c0-4.937-4.016-8.954-8.953-8.954H37.343z'/%3E%3C/svg%3E`;
var assets_img_reseticon = `data:image/svg+xml,%3Csvg fill='%23000000' height='800px' width='800px' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 488.482 488.482' xml:space='preserve'%3E%3Cg%3E%3Cg%3E%3Cpath d='M456.382,359.741l4.1-6.6c1.2-2.3,2.4-4.6,3.5-6.9c2.3-4.7,4.8-9.2,6.8-14c3.7-9.7,7.7-19.3,10.1-29.4 c3.1-10,4.4-20.3,6.1-30.6c0.7-5.2,0.7-10.4,1.1-15.6l0.4-7.8v-0.5v-0.2v-0.1v-1.1v-0.9l-0.1-1.8l-0.2-3.6l-0.6-14.3l-2.3-16.2 c-0.4-2.7-0.7-5.5-1.3-8l-1.9-7.6c-1.4-5-2.4-10.2-4.2-15.1c-6.4-19.9-16.1-38.7-27.7-56c-12.1-17.1-26.6-32.3-42.7-45.6 c-15.7-13-33.1-24.5-52-33.1c-7.5-3.2-15.3-6.1-23-8.8l-11.9-3.2c-4-1-7.9-2.3-12-2.8l-12.2-2l-6.1-1l-6.2-0.4l-12.3-0.7l-3.1-0.2 h-0.8h-0.2h-1.2h-0.4l-1.4,0.1l-5.6,0.2l-11.3,0.5c-1.8,0-4,0.4-6.1,0.7l-6.4,0.9l-12.8,1.9l-12,3c-4,1.1-8.1,1.8-11.9,3.4 l-11.6,4.2l-5.8,2.2l-5.6,2.7l-11.1,5.4c-58.8,30.5-101.2,89.3-112,153.5c-0.6,4.6-1.1,9.1-1.5,13.4c-0.4,4.3-0.8,8.5-0.5,12.5 c0.1,2.4,0.2,4.6,0.4,6.9c-11.1-17.4-23.7-33.9-34-51.8c-0.8-1.4-5.2-1.7-7.7-1c-4.9,1.3-7.2,5.4-8.1,9.7 c-2.9,14.3,0.3,27.3,6.4,38.6c11.5,21.3,22.1,43.2,35.8,63.2l0.3,0.5c0.5,0.7,1,1.4,1.7,2.1c7,7.6,18.9,8.1,26.6,1 c4.9-4.5,9.6-9.2,14.1-14.2c3.1-2.3,6.2-4.5,9.2-6.9c19.1-15,37.5-30.9,52.7-50.1c4.3-5.5,5.5-12.7-1-19.1 c-5.9-5.8-13.6-7.1-19.5-3.1c-10.6,7.2-21.3,14.3-30.6,23c-8.6,8-16.8,16.4-24.9,24.9c0.5-1.6,1-3.3,1.5-5.2 c1.5-5.2,3-11.1,4.2-17.9c0.4-3.4,1.7-6.8,2.4-10.5c0.8-3.7,1.6-7.5,2.4-11.5c7-28.5,20.7-55.1,39.3-77.5 c18.5-22.5,42.5-40,68.5-52.3c5.1-2.8,10.7-4.5,16.1-6.6c5.4-2.3,11-3.5,16.7-5.1c2.8-0.7,5.6-1.7,8.4-2.1l8.2-1.3l8.3-1.4 l9.5-0.6c23.4-1.5,46.9,1.1,69.2,8.2c44.7,13.9,84.1,45.4,107.3,86.8l6,14.7c1.1,2.4,1.8,5,2.6,7.5l2.3,7.6 c1.8,5,2.6,10.2,3.7,15.3l1.6,7.7c0.4,2.5,0.5,5,0.8,7.5l0.8,7.4c0.1,1.3,0.3,2.4,0.4,3.8l0.1,4.3l0.1,8.6l0.1,4.3v2.1v0.5v0.3 v0.1c0,0.2,0-1.6,0-0.8l-0.1,1l-1.3,15.6c-0.5,5.2-1.8,10.3-2.6,15.4c-8.3,40.6-29.6,78.7-61.3,105.6 c-15.7,13.6-33.6,24.5-52.9,32.2c-4.9,1.7-9.7,3.8-14.7,5.2l-15.1,3.9l-14.6,2.3c-2.2,0.5-5.2,0.6-8.1,0.8l-8.6,0.5l-4.3,0.2 l-1.7,0.1h-0.4h-1l-7.8-0.2c-5.2-0.4-10.4-0.7-15.5-1.5c-10.3-1.4-20.4-3.7-30.3-6.9c-19.8-6.3-38.3-16.3-54.6-28.9 c-2.9-2.3-7.1-4.6-10.9-6.4c-3.8-1.6-8.1-3.9-10.3-4.3c-4.6-1-5.7,1-4.5,5c0.6,1.9,1.7,4.4,3.3,7.1c1.6,2.6,3.6,5.5,6.1,8.5 c16.3,20,40.6,38,70.1,48.8c14.7,5.4,30.6,9.1,47.1,10.4l6.2,0.4l1.5,0.1l0.8,0.1h0.4h0.2h0.8h2.9c3.9-0.1,7.8-0.1,11.8-0.2 l5.9-0.1l6.4-0.8l12.9-1.7c40.2-7.1,78.4-25.4,108.8-53.2C432.182,393.241,445.882,377.541,456.382,359.741z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E`;
var assets_img_removeicon = `data:image/svg+xml,%3Csvg width='800px' height='800px' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M6.22566 4.81096C5.83514 4.42044 5.20197 4.42044 4.81145 4.81096C4.42092 5.20148 4.42092 5.83465 4.81145 6.22517L10.5862 11.9999L4.81151 17.7746C4.42098 18.1651 4.42098 18.7983 4.81151 19.1888C5.20203 19.5793 5.8352 19.5793 6.22572 19.1888L12.0004 13.4141L17.7751 19.1888C18.1656 19.5793 18.7988 19.5793 19.1893 19.1888C19.5798 18.7983 19.5798 18.1651 19.1893 17.7746L13.4146 11.9999L19.1893 6.22517C19.5799 5.83465 19.5799 5.20148 19.1893 4.81096C18.7988 4.42044 18.1657 4.42044 17.7751 4.81096L12.0004 10.5857L6.22566 4.81096Z' fill='%23000000'/%3E%3C/svg%3E`;
var assets_img_checklist = `data:image/svg+xml,%3Csvg version='1.1' baseProfile='tiny' id='_x32_' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' x='0px' y='0px' viewBox='0 0 800 800' xml:space='preserve'%3E%3Cg%3E%3Cpath fill='%2302B9CC' d='M675.6,7.4c-21.1,0-38.2,17.2-38.2,38.4c0,21.3,17,38.5,38.1,38.5c21.1,0,38.2-17.2,38.2-38.5 C713.7,24.6,696.6,7.4,675.6,7.4z'/%3E%3Cpath fill='%2302B9CC' d='M682.2,190.8c0-12.5-10-22.6-22.4-22.7c-12.4,0-22.5,10.1-22.5,22.6c0,12.5,10,22.6,22.4,22.6 C672.1,213.4,682.2,203.3,682.2,190.8z'/%3E%3Cpath fill='%2302B9CC' d='M730.9,107.2c-14.8,0-26.9,12.1-26.9,27c0,15,12,27.1,26.8,27.1c14.8,0,26.8-12.1,26.8-27 C757.7,119.3,745.7,107.2,730.9,107.2z'/%3E%3Cpath fill='%2302B9CC' d='M150.6,611.3c-29.9,30.1-29.9,79.1,0,109.2c29.9,30.1,78.5,30.1,108.3,0l221.9-223.7H264.2L150.6,611.3z'/%3E%3Cpath d='M535.7,192.5c-18.1-18.2-47.5-18.2-65.6,0c-11.7,11.8-15.8,28.4-12.4,43.5l-3,3L118.1,578.5c-47.8,48.2-47.8,126.7,0,174.9 c47.8,48.2,125.6,48.2,173.4,0L628.2,414l3-3c15,3.5,31.5-0.7,43.2-12.5c18.1-18.2,18.1-47.9,0-66.1L535.7,192.5z M610.6,400.3 l-87.1,87.8L275.9,737.7c-39.3,39.6-103,39.6-142.3,0c-39.3-39.6-39.3-103.9,0-143.5L380,345.8l88.3-89l4.2-4.3 c0.6,0.6,1.2,1.3,1.8,1.9L613,394.2c0.6,0.6,1.2,1.2,1.9,1.8L610.6,400.3z M658.7,382.8c-6.6,6.6-15.9,8.7-24.3,6.1l-6.3-6.4 L485.9,239.1l-6.3-6.4c-2.5-8.4-0.5-17.9,6.1-24.5c9.5-9.6,24.9-9.6,34.4,0L658.7,348C668.2,357.6,668.2,373.2,658.7,382.8z'/%3E%3C/g%3E%3Cg%3E%3Cpath d='M14.5,293.2L120.7,198l29.7,33.7L97.6,279l24.4,27.7l48.1-43.2l24.6,27.9l-48.1,43.2l26,29.5l52.8-47.3l29.7,33.7 L149,445.7L14.5,293.2z'/%3E%3Cpath d='M305,293.4c-18.1,3.7-36.1,2.6-53.8-3.4c-17.7-5.9-33.1-16.3-46.1-31.1c-13.3-15.1-21.9-31.7-25.9-49.9 c-3.9-18.2-3.1-35.9,2.6-53.3c5.7-17.4,15.8-32.6,30.5-45.8c7.9-7.1,16.5-13.1,25.8-18c9.3-4.9,18.2-8,26.8-9.3l24.4,39.7 c-14.1,5.5-25.4,12-33.9,19.6c-11.7,10.5-17.7,22-17.9,34.6c-0.2,12.5,5.3,25.2,16.6,38.1c11.1,12.6,23,19.4,35.9,20.4 c12.9,1,25.2-3.8,37.1-14.4c4.5-4.1,8.4-8.3,11.6-12.8c3.2-4.4,6.6-10.4,10.2-17.9l37,29.5c-6.1,19-16.7,35.2-31.8,48.8 C339.5,281.3,323.1,289.7,305,293.4z'/%3E%3C/g%3E%3C/svg%3E`;
var assets_img_1semail = `data:image/svg+xml,%3Csvg height='800px' width='800px' version='1.1' id='Layer_1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 512 512' xml:space='preserve'%3E%3Cg%3E%3Cpath style='fill:%23211E48;' d='M403.816,281.134c-59.652,0-108.184-48.532-108.184-108.184S344.164,64.767,403.816,64.767 S512,113.298,512,172.95S463.468,281.134,403.816,281.134z M403.816,93.236c-43.955,0-79.714,35.759-79.714,79.714 s35.759,79.714,79.714,79.714s79.714-35.759,79.714-79.714S447.772,93.236,403.816,93.236z'/%3E%3Cpath style='fill:%23211E48;' d='M381.765,447.233H37.869C16.988,447.233,0,430.246,0,409.366V163.397 c0-20.881,16.988-37.869,37.869-37.869h278.048c7.86,0,14.235,6.374,14.235,14.235s-6.374,14.235-14.235,14.235H37.869 c-5.183,0-9.399,4.216-9.399,9.399v245.969c0,5.181,4.216,9.398,9.399,9.398h343.898c5.181,0,9.398-4.216,9.398-9.398v-81.64 c0-7.86,6.374-14.235,14.235-14.235c7.86,0,14.235,6.374,14.235,14.235v81.64C419.632,430.246,402.645,447.233,381.765,447.233z'/%3E%3C/g%3E%3Cpath style='fill:%23B0DACC;' d='M309.867,172.95c0-10.268,1.67-20.141,4.715-29.389H40.629c-19.778,0-28.257,25.109-12.531,37.1 l169.188,129.002c7.401,5.643,17.66,5.643,25.062,0l105.972-80.802C316.728,213.237,309.867,193.897,309.867,172.95z'/%3E%3Cg%3E%3Cpath style='fill:%23211E48;' d='M209.815,328.13c-7.601,0-15.117-2.538-21.161-7.147L19.467,191.979 c-12.101-9.226-16.774-24.504-11.904-38.922c4.87-14.417,17.849-23.734,33.066-23.734h273.953c4.566,0,8.855,2.191,11.533,5.89 c2.676,3.7,3.416,8.457,1.989,12.794c-2.655,8.068-4.003,16.46-4.003,24.941c0,17.23,5.412,33.63,15.65,47.43 c4.641,6.256,3.392,15.079-2.801,19.801l-105.972,80.802C224.934,325.591,217.417,328.13,209.815,328.13z M40.629,157.795 c-4.017,0-5.543,2.74-6.094,4.373c-0.551,1.633-0.999,4.737,2.195,7.173l169.187,129.002c1.428,1.09,2.908,1.318,3.899,1.318 s2.471-0.228,3.899-1.318l95.521-72.832c-8.935-15.998-13.604-33.926-13.604-52.562c0-5.085,0.356-10.145,1.065-15.154 L40.629,157.795L40.629,157.795z'/%3E%3Cpath style='fill:%23211E48;' d='M394.218,148.03l-4.128,2.562c-1.28,0.854-2.562,1.139-3.559,1.139 c-4.128,0-6.975-4.413-6.975-8.826c0-2.989,1.281-5.838,4.128-7.544l18.791-11.389c1.139-0.712,2.562-0.996,4.127-0.996 c4.555,0,9.822,2.705,9.822,6.975v90.538c0,4.557-5.55,6.834-11.103,6.834c-5.553,0-11.104-2.278-11.104-6.834V148.03H394.218z'/%3E%3C/g%3E%3C/svg%3E`;

var addShortCutBtn = () => {
    var _panel_addshortcutbtn = document.querySelector(".dock-container._panel_btnshortcut");
    if(!_panel_addshortcutbtn) {
        var dock_container = document.querySelector(".dock-container");
        if(dock_container) {
            var strhtml = `<div class="dock-container _panel_btnshortcut">`;


            strhtml += `
                <div class="material-button _panel_shortcut_openemailtemplate"  >
                    <div class="content">
                        <img src="${assets_img_mailicon}">
                    </div>
                </div>
                <div class="material-button _panel_shortcut_fisrtemail"  >
                    <div class="content">
                        <img src="${assets_img_1semail}">
                    </div>
                </div>
            </div>`;
            
            // <a href="http://go/teamVN" target="_blank" class="material-button _panel_shortcut_go_teamvietnam" data-textview="Hôm nay bạn chưa ghé go/TeamVN thì phải?"  >
            //     <img src="${window.dataTagteam.assets_url_img}/pepe-4chan.gif">
            //     <span class="content"></span>
            // </a>
            
            var dock_container_add = _TrustScript(strhtml);
            // // Open
            // document.querySelector('[data-btnaction="openmain"]').click();
            dock_container.insertAdjacentHTML("afterEnd", dock_container_add);
            if(document.querySelector('._panel_shortcut_toggleopenmain_withoutsave')) {
                document.querySelector('._panel_shortcut_toggleopenmain_withoutsave').addEventListener("click", (e) => {
                    var is_open = toggleClass("mainpanel_template", document.documentElement);

                    document.documentElement.classList.remove("email_template");

                    if(is_open) {
                        document.documentElement.classList.remove("_hide_main");
                        panel_div.classList.remove("hide_main");

                        var _panels = panel_div.querySelectorAll(`[data-panel]`);
                        _panels.forEach((elm) => {
                            elm.classList.remove("active");
                        });

                        var _panel_elm_email = panel_div.querySelector(`[data-panel="main"]`);
                        _panel_elm_email.classList.add("active");
                    } else {
                        document.documentElement.classList.add("_hide_main");
                        panel_div.classList.add("hide_main");
                    }

                });
            }

            document.querySelector('._panel_shortcut_openemailtemplate').addEventListener("click", (e) => {
                var is_open = toggleClass("email_template", document.documentElement);

                document.documentElement.classList.remove("mainpanel_template");

                if(is_open) {
                    document.documentElement.classList.remove("_hide_main");
                    panel_div.classList.remove("hide_main");

                    var _panels = panel_div.querySelectorAll(`[data-panel]`);
                    _panels.forEach((elm) => {
                        elm.classList.remove("active");
                    });

                    var _panel_elm_email = panel_div.querySelector(`[data-panel="email-template"]`);
                    _panel_elm_email.classList.add("active");
                } else {
                    document.documentElement.classList.add("_hide_main");
                    panel_div.classList.add("hide_main");
                }
                
            });

            


            // // go/TeamVn
            // var _timekey_current = new Date().getDate();
            // getChromeStorage('goTeamVNToDay', (response) => {
            //     var _timestorage = response.value || false;
            //     if(_timestorage != _timekey_current) {
            //         document.querySelector('._panel_shortcut_go_teamvietnam').classList.add('notview_today');
            //     }
            // });

            // document.querySelector('._panel_shortcut_go_teamvietnam').addEventListener("click", (e) => {
            //     // sessionStorage.setItem("goTeamVNToDay", _timekey_current);
            //     setChromeStorage('goTeamVNToDay', _timekey_current);

            //     e.target.remove();
            // });

            
        }
        
    }
};